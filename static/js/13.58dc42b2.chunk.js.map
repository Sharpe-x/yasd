{"version":3,"sources":["components/BackButton/index.tsx","components/PageTitle/index.tsx","components/FixedFullscreenContainer.tsx","../node_modules/@sumup/icons/dist/es/ChevronLeft.js","../node_modules/@sumup/icons/dist/es/Spinner.js","../node_modules/lodash-es/_baseIsNaN.js","../node_modules/lodash-es/_strictIndexOf.js","../node_modules/lodash-es/_baseIndexOf.js","../node_modules/lodash-es/_arrayIncludes.js","../node_modules/lodash-es/_arrayIncludesWith.js","../node_modules/lodash-es/noop.js","../node_modules/lodash-es/_createSet.js","../node_modules/lodash-es/_baseUniq.js","../node_modules/lodash-es/uniqBy.js","pages/Scripting/index.tsx"],"names":["BackButton","history","useHistory","onClick","goBack","label","css","PageTitle","props","isAutoRefresh","setIsAutoRefresh","useState","defaultAutoRefreshState","isSticky","useMemo","sticky","useEffect","hasAutoRefresh","onAuthRefreshStateChange","size","noMargin","title","FixedFullscreenContainer","offsetBottom","children","ChevronLeft","React","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","defaultProps","width","height","viewBox","fill","xmlns","Spinner","baseIsNaN","value","strictIndexOf","array","fromIndex","index","length","baseIndexOf","baseFindIndex","arrayIncludes","arrayIncludesWith","comparator","noop","createSet","Set","setToArray","values","baseUniq","iteratee","includes","isCommon","result","seen","set","cacheHas","SetCache","outer","computed","seenIndex","push","uniqBy","baseIteratee","Page","t","useTranslation","data","scripting","error","scriptingError","useSWR","fetcher","evaluateResult","setEvaluateResult","isLoading","setIsLoading","filteredList","scripts","item","name","type","map","script","key","openUrl","path","window","open","LoadingButton","e","stopPropagation","scriptName","url","method","script_name","timeout","then","res","exception","toast","output","catch","err","console","finally","undefined","evaluate","loadingLabel","Button","variant","Modal","isOpen","onClose","ModalWrapper","ModalHeader"],"mappings":"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","file":"static/js/13.58dc42b2.chunk.js","sourcesContent":["/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport { IconButton } from '@sumup/circuit-ui'\nimport { ChevronLeft } from '@sumup/icons'\nimport React from 'react'\nimport css from '@emotion/css/macro'\nimport tw from 'twin.macro'\nimport { useHistory } from 'react-router-dom'\n\nconst BackButton: React.FC = () => {\n  const history = useHistory()\n\n  return (\n    <IconButton\n      onClick={() => history.goBack()}\n      label=\"back\"\n      tw=\"w-8 h-8 mr-3 self-center\"\n      css={css`\n        padding: 0.3rem;\n      `}\n    >\n      <ChevronLeft />\n    </IconButton>\n  )\n}\n\nexport default BackButton\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport { Heading } from '@sumup/circuit-ui'\nimport { Spinner } from '@sumup/icons'\nimport React, { useEffect, useMemo, useState } from 'react'\nimport styled from '@emotion/styled/macro'\nimport css from '@emotion/css/macro'\nimport tw from 'twin.macro'\nimport BackButton from '../BackButton'\n\ninterface PageTitleProps {\n  title: string\n  hasAutoRefresh?: boolean\n  defaultAutoRefreshState?: boolean\n  onAuthRefreshStateChange?: (newState: boolean) => void\n  sticky?: boolean\n}\n\nconst PageTitle: React.FC<PageTitleProps> = (props) => {\n  const [isAutoRefresh, setIsAutoRefresh] = useState<boolean>(\n    () => props.defaultAutoRefreshState ?? false,\n  )\n  const isSticky = useMemo(\n    () => (typeof props.sticky === 'undefined' ? true : props.sticky),\n    [props.sticky],\n  )\n\n  useEffect(() => {\n    if (props.hasAutoRefresh && props.onAuthRefreshStateChange) {\n      props.onAuthRefreshStateChange(isAutoRefresh)\n    }\n  }, [\n    isAutoRefresh,\n    props,\n    props.hasAutoRefresh,\n    props.onAuthRefreshStateChange,\n  ])\n\n  return (\n    <Heading\n      size={'tera'}\n      noMargin\n      css={[\n        isSticky ? tw`sticky top-0` : '',\n        tw`flex items-center justify-between shadow bg-white z-10 px-3 py-3`,\n        css``,\n      ]}\n    >\n      <div\n        tw=\"flex items-center\"\n        css={css`\n          padding-left: env(safe-area-inset-left);\n        `}\n      >\n        <BackButton />\n        <div>{props.title}</div>\n      </div>\n\n      {props.hasAutoRefresh && (\n        <div\n          onClick={() => setIsAutoRefresh(!isAutoRefresh)}\n          css={[\n            tw`bg-blue-500 text-white cursor-pointer w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-200 ease-in-out`,\n            isAutoRefresh && tw`bg-red-400`,\n            css`\n              margin-right: env(safe-area-inset-right);\n            `,\n          ]}\n        >\n          <Spinner css={[tw`w-6 h-6`, isAutoRefresh && tw`animate-spin`]} />\n        </div>\n      )}\n    </Heading>\n  )\n}\n\nexport default PageTitle\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport css from '@emotion/css/macro'\nimport tw from 'twin.macro'\nimport React from 'react'\n\nconst FixedFullscreenContainer: React.FC<{\n  offsetBottom?: boolean\n}> = (props) => {\n  let offsetBottom = true\n\n  if (typeof props.offsetBottom === 'boolean') {\n    offsetBottom = props.offsetBottom\n  }\n\n  return (\n    <div\n      css={[\n        tw`fixed top-0 right-0 bottom-0 left-0 h-full overflow-hidden`,\n        offsetBottom\n          ? css`\n              padding-bottom: env(safe-area-inset-bottom);\n            `\n          : '',\n      ]}\n    >\n      <div tw=\"w-full h-full flex flex-col\">{props.children}</div>\n    </div>\n  )\n}\n\nexport default FixedFullscreenContainer\n","import React from \"react\";\n\nvar ChevronLeft = function ChevronLeft(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 4L6 8l4 4\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }));\n};\n\nChevronLeft.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nexport { ChevronLeft };","import React from \"react\";\n\nvar Spinner = function Spinner(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 8a1 1 0 00-2 0h2zm6-8a1 1 0 000 2V0zm6 8a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6 6a6 6 0 01-6-6H0a8 8 0 008 8v-2zM8 2a6 6 0 016 6h2a8 8 0 00-8-8v2z\",\n    fill: \"currentColor\"\n  }));\n};\n\nSpinner.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nexport { Spinner };","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core'\nimport css from '@emotion/css/macro'\nimport React, { MouseEvent, useMemo, useState } from 'react'\nimport styled from '@emotion/styled/macro'\nimport { useTranslation } from 'react-i18next'\nimport { useHistory } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport tw from 'twin.macro'\nimport useSWR from 'swr'\nimport { uniqBy } from 'lodash-es'\nimport {\n  Button,\n  LoadingButton,\n  Modal,\n  ModalHeader,\n  ModalWrapper,\n} from '@sumup/circuit-ui'\n\nimport FixedFullscreenContainer from '../../components/FixedFullscreenContainer'\nimport PageTitle from '../../components/PageTitle'\nimport { EvaluateResult, Scriptings } from '../../types'\nimport fetcher from '../../utils/fetcher'\n\nconst Page: React.FC = () => {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const { data: scripting, error: scriptingError } = useSWR<Scriptings>(\n    '/scripting',\n    fetcher,\n  )\n  const [evaluateResult, setEvaluateResult] = useState<string>()\n  const [isLoading, setIsLoading] = useState<number>()\n\n  const filteredList = useMemo(() => {\n    if (!scripting) return []\n\n    return uniqBy(scripting.scripts, (item) => `${item.name}-${item.type}`)\n  }, [scripting])\n\n  const openUrl = (path: string) => {\n    window.open(path, '_blank', 'noopener noreferrer')\n  }\n\n  const evaluate = (scriptName: string, index: number) => {\n    if (typeof isLoading === 'number') return\n\n    setIsLoading(index)\n\n    fetcher<EvaluateResult>({\n      url: '/scripting/cron/evaluate',\n      method: 'POST',\n      data: {\n        script_name: scriptName,\n      },\n      timeout: 60000,\n    })\n      .then((res) => {\n        if (res.exception) {\n          toast.error(res.exception)\n        } else {\n          setEvaluateResult(res.output)\n        }\n      })\n      .catch((err) => {\n        console.error(err)\n      })\n      .finally(() => {\n        setIsLoading(undefined)\n      })\n  }\n\n  return (\n    <FixedFullscreenContainer>\n      <PageTitle title={t('home.scripting')} />\n\n      <div tw=\"flex-1 overflow-auto\">\n        <div tw=\"divide-y divide-gray-200\">\n          {scripting &&\n            filteredList.map((script, index) => {\n              return (\n                <div\n                  key={`${script.name}-${script.type}`}\n                  css={[\n                    tw`flex items-center justify-between py-3 cursor-pointer hover:bg-gray-100`,\n                    css`\n                      padding-left: calc(env(safe-area-inset-left) + 0.75rem);\n                      padding-right: calc(env(safe-area-inset-right) + 0.75rem);\n                    `,\n                  ]}\n                  title={t('scripting.open_script')}\n                  onClick={() => openUrl(script.path)}\n                >\n                  <div tw=\"flex-1\">\n                    <div tw=\"truncate leading-normal text-gray-700\">\n                      {script.name}\n                    </div>\n                    <div tw=\"text-sm text-gray-500\">{script.type}</div>\n                  </div>\n                  <div tw=\"ml-2 flex items-center\">\n                    {script.type === 'cron' && (\n                      <LoadingButton\n                        onClick={(e: MouseEvent) => {\n                          e.stopPropagation()\n                          evaluate(script.name, index)\n                        }}\n                        size=\"kilo\"\n                        isLoading={isLoading === index}\n                        loadingLabel={t('scripting.running')}\n                        tw=\"px-3 py-3 text-sm leading-tight\"\n                      >\n                        {t('scripting.run_script_button_title')}\n                      </LoadingButton>\n                    )}\n                  </div>\n                </div>\n              )\n            })}\n        </div>\n      </div>\n\n      <div tw=\"border-t border-solid border-gray-200 py-2\">\n        <Button\n          variant=\"tertiary\"\n          size=\"kilo\"\n          onClick={() => history.push('/scripting/evaluate')}\n        >\n          {t('scripting.debug_script_button_title')}\n        </Button>\n      </div>\n\n      <Modal\n        isOpen={!!evaluateResult}\n        onClose={() => {\n          setEvaluateResult(undefined)\n        }}\n      >\n        {({ onClose }) => (\n          <ModalWrapper>\n            <ModalHeader title={t('scripting.result')} onClose={onClose} />\n            <div>\n              <pre\n                tw=\"font-mono text-xs text-gray-600 bg-gray-200 leading-tight p-3 whitespace-pre-wrap break-words\"\n                css={css`\n                  min-height: 7rem;\n                `}\n              >\n                {evaluateResult}\n              </pre>\n            </div>\n          </ModalWrapper>\n        )}\n      </Modal>\n    </FixedFullscreenContainer>\n  )\n}\n\nexport default Page\n"],"sourceRoot":""}