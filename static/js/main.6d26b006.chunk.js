(this.webpackJsonpyasd=this.webpackJsonpyasd||[]).push([[5],{149:function(e,t,a){"use strict";var r=a(0),o=a(1),n=a.n(o),i=a(55);t.a=e=>{let{macos:t,ios:a,children:o}=e;return Object(i.b)({macos:t,ios:a})?Object(r.f)(n.a.Fragment,null,o):null}},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));var r=a(39),o=a.n(r),n=a(47);const i=o.a.create({baseURL:"/v1",transformRequest:[(e,t)=>{if(t["x-surge-host"]?t["Content-Type"]="application/json;charset=UTF-8":delete t["Content-Type"],e)return JSON.stringify(e)}]});function c(e,t,a,r){const o=!0===(null===r||void 0===r?void 0:r.tls);i.defaults.headers["x-key"]=a,i.defaults.timeout=5e3,i.defaults.baseURL=`${o?"https:":"http:"}//${e}:${t}/v1`}t.a=e=>i.request(e).then((e=>e.data)).catch((e=>{throw e.response?(console.error(e.response.data),console.error(e.response.status),n.b.error("\u8bf7\u6c42\u9519\u8bef: "+e.message+`(${e.response.status})`)):e.request?(console.error(e.request),n.b.error("\u65e0\u6cd5\u8fde\u63a5\u670d\u52a1\u5668: "+e.message,{toastId:e.message})):(console.error("Error",e.message),n.b.error("\u53d1\u751f\u9519\u8bef: "+e.message)),e}))},150:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var r=a(11),o=a(0),n=a(23),i=a(71),c=a.n(i),l=a(237),s=a(16),d=a(1),b=a(7),p=a(15);const u=Object(n.a)((()=>Promise.all([a.e(15),a.e(19)]).then(a.bind(null,240))),{fallback:Object(o.f)("div",{css:[{name:"1gnsnpc",styles:"height:200px;"},{display:"flex",alignItems:"center",justifyContent:"center",fontSize:".875rem","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))"}]},"Loading...")}),f=Object(r.a)("div",{target:"en1yszd0"})({paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},""),m=Object(r.a)("div",{target:"en1yszd1"})({fontSize:".75rem","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))",lineHeight:"1.625",fontWeight:"500","@media (min-width: 768px)":{fontSize:".875rem"}},""),g=Object(r.a)("div",{target:"en1yszd2"})({fontSize:"1rem","--text-opacity":"1",color:"rgba(74, 85, 104, var(--text-opacity))",lineHeight:"1.5","@media (min-width: 768px)":{fontSize:"1.125rem"}},""),v=1e3;var O={name:"177hs0x",styles:"height:67px;line-height:67px;text-align:center;"};t.b=()=>{const{t:e}=Object(l.a)(),t=Object(b.e)(),{data:a,error:r}=Object(s.b)(void 0!==t?"/traffic":null,(e=>Object(p.a)(e).then((e=>(e.nowTime=Date.now(),e)))),{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:v,dedupingInterval:v}),[n,i]=Object(d.useState)({up:[],down:[]}),h=Object(d.useMemo)((()=>[{label:"Upload",data:n.up},{label:"Download",data:n.down}]),[e,n.down,n.up]),j=Object(d.useMemo)((()=>{if(!a)return;const e={outCurrentSpeed:0,in:0,inCurrentSpeed:0,outMaxSpeed:0,out:0,inMaxSpeed:0};for(const t in a.interface){const r=a.interface[t];e.in+=r.in,e.out+=r.out,e.outCurrentSpeed+=r.outCurrentSpeed,e.inCurrentSpeed+=r.inCurrentSpeed}return e}),[a]);return Object(d.useEffect)((()=>{j&&i((()=>{const e=new Date;return{up:[{x:e,y:j.outCurrentSpeed}],down:[{x:e,y:j.inCurrentSpeed}]}}))}),[j]),Object(o.f)("div",null,Object(o.f)("div",{css:{marginBottom:"0.75rem",width:"100%",overflow:"hidden"}},Object(o.f)(u,{id:"traffic-chart",newDatasets:h})),j?Object(o.f)("div",{css:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1rem","> :not(template) ~ :not(template)":{"--divide-x-reverse":0,borderRightWidth:"calc(1px * var(--divide-x-reverse))",borderLeftWidth:"calc(1px * calc(1 - var(--divide-x-reverse)))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"},borderStyle:"solid",borderWidth:"1px","--border-opacity":"1",borderColor:"rgba(237, 242, 247, var(--border-opacity))","--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))"}},Object(o.f)(f,null,Object(o.f)(m,null,e("traffic_cell.upload")),Object(o.f)(g,null,c()(j.outCurrentSpeed),"/s")),Object(o.f)(f,null,Object(o.f)(m,null,e("traffic_cell.download")),Object(o.f)(g,null,c()(j.inCurrentSpeed),"/s")),Object(o.f)(f,null,Object(o.f)(m,null,e("traffic_cell.total")),Object(o.f)(g,null,c()(j.in+j.out)))):Object(o.f)("div",{css:[{borderWidth:"1px","--border-opacity":"1",borderColor:"rgba(237, 242, 247, var(--border-opacity))","--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))","--text-opacity":"1",color:"rgba(74, 85, 104, var(--text-opacity))"},O]},e("common.is_loading"),"..."))}},180:function(e,t,a){},235:function(e,t,a){var r={"./en/translation.json":[238,23],"./zh/translation.json":[239,24]};function o(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return a.e(t[1]).then((function(){return a.t(o,3)}))}o.keys=function(){return Object.keys(r)},o.id=235,e.exports=o},236:function(e,t,a){"use strict";a.r(t);var r=a(1),o=a.n(r),n=a(63),i=a.n(n),c=a(0),l=(a(180),a(11)),s=a(253),d=a(237),b=a(9),p=a(23),u=a(5),f=a.n(u),m=a(69),g=a(47),v=a(16),O=(a(184),a(166));const h=Object(l.a)("div",{target:"emtk1el0"})({position:"fixed",top:"0",right:"0",bottom:"0",left:"0",display:"flex",alignItems:"center",justifyContent:"center"},"");var j=()=>Object(c.f)(h,null,Object(c.f)(O.a,null)),y=a(244),x=a(207),k=a(208),_=a(209),C=a(252),w=a(157),S=a(155),T=a.n(S),E=a(6);const R="1.1.2";var P=()=>{const[e,t]=Object(r.useState)(!1),[a,o]=Object(r.useState)(),{t:n}=Object(d.a)();return Object(r.useEffect)((()=>{const e=f.a.get(E.d);e&&!T()(R,`~${e}`)&&(o("https://github.com/geekdada/yasd/releases/tag/v1.1.2"),t(!0)),f.a.set(E.d,R)}),[]),Object(c.f)(y.a,{isOpen:e,onClose:()=>{t(!1)}},(e=>{let{onClose:t}=e;return Object(c.f)(x.a,null,Object(c.f)(k.a,{title:n("new_version_alert.title"),onClose:t}),Object(c.f)("div",{css:{marginBottom:"0.75rem"}},n("new_version_alert.message")),Object(c.f)(_.a,{align:"right"},Object(c.f)(C.a,null,Object(c.f)("a",{href:a,target:"_blank",rel:"noreferrer"},Object(c.f)(w.a,{variant:"primary",onClick:t},n("common.see"))))))}))},A=a(64);var W=()=>{const{pathname:e}=Object(b.h)(),{isModalOpen:t,removeModal:a}=Object(A.b)();return function(){const e=Object(b.g)();Object(r.useEffect)((()=>{const{push:t,replace:a}=e;e.push=e=>{t(e,{scroll:window.scrollY})},e.replace=e=>{a(e,{scroll:window.scrollY})};const r=e.listen(((e,t)=>{var a,r;window.scrollTo(0,"POP"!==t?0:null!==(a=null===(r=e.state)||void 0===r?void 0:r.scroll)&&void 0!==a?a:0)}));return()=>{r()}}),[e])}(),Object(r.useEffect)((()=>{t&&a()}),[e]),o.a.createElement(o.a.Fragment,null)};var L=e=>{let{isOpen:t,onClose:a,reloadButton:r}=e;const{t:n}=Object(d.a)();return Object(c.f)(y.a,{isOpen:t,onClose:a},(e=>{let{onClose:t}=e;return Object(c.f)(x.a,null,Object(c.f)(k.a,{title:n("common.network_error_title")}),Object(c.f)("div",{css:{marginBottom:"0.75rem"}},n("common.network_error_message")),Object(c.f)(_.a,{align:"right"},Object(c.f)(C.a,null,r?Object(c.f)(w.a,{onClick:()=>{window.location.reload()}},n("common.reload_window_retry")):Object(c.f)(o.a.Fragment,null),Object(c.f)(w.a,{onClick:t,variant:"primary"},n("common.exit")))))}))},B=a(7),z=a(167),D=a(254),H=a(248),U=a(255),I=a(48),q=a(249),M=a(250);var V=()=>{const{i18n:e}=Object(d.a)(),[t,a]=Object(r.useState)(!1),o=Object(r.useCallback)((t=>{a(!0),f.a.set(E.b,t.target.value),e.changeLanguage(t.target.value).finally((()=>a(!1)))}),[e]);return Object(c.f)("div",{css:{display:"flex",justifyContent:"center",width:"100%"}},Object(c.f)(M.a,{label:"change language",hideLabel:!0,noMargin:!0,value:e.language,options:[{value:"en",label:"English"},{value:"zh",label:"\u4e2d\u6587"}],onChange:o,disabled:t}))},N=a(50),$=a(39),F=a.n($),K=a(246),G=a(245);var Y=e=>{let{profile:t,checkConnectivity:a,onClick:o,showDelete:n,onDelete:i,variant:l="spread"}=e;const[s,d]=Object(r.useState)(void 0),b="spread"===l?{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"};return Object(r.useEffect)((()=>{let e=!0;return a&&F.a.request({url:`${t.tls?"https":"http"}://${t.host}:${t.port}/v1/outbound`,method:"GET",headers:{"x-key":t.key},timeout:3e3}).then((()=>{e&&d(!0)})).catch((()=>{e&&d(!1)})),()=>{e=!1}}),[t,a]),Object(c.f)("div",{key:t.id,css:[o?s?{cursor:"pointer"}:{cursor:"not-allowed"}:null,{display:"flex",padding:"0.75rem",justifyContent:"space-between"}],onClick:e=>{e.stopPropagation(),e.preventDefault(),s&&o&&o(e)}},Object(c.f)("div",{css:[{display:"flex",width:"100%"},b]},Object(c.f)("div",{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:".875rem",lineHeight:"1.25","@media (min-width: 768px)":{fontSize:"1rem"}}},t.name),Object(c.f)("div",{css:[{display:"flex",alignItems:"center"},"left"===l&&{marginTop:"0.5rem"}]},a&&Object(c.f)("div",{css:{position:"relative",display:"flex",height:"0.75rem",width:"0.75rem",marginRight:"0.75rem"}},s&&Object(c.f)("span",{css:{animation:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",position:"absolute",display:"inline-flex",height:"100%",width:"100%",borderRadius:"9999px","--bg-opacity":"1",backgroundColor:"rgba(104, 211, 145, var(--bg-opacity))",opacity:"0.75"}}),Object(c.f)("span",{css:[{position:"relative",display:"inline-flex",borderRadius:"9999px",height:"0.75rem",width:"0.75rem"},void 0===s&&{"--bg-opacity":"1",backgroundColor:"rgba(160, 174, 192, var(--bg-opacity))"},!0===s&&{"--bg-opacity":"1",backgroundColor:"rgba(72, 187, 120, var(--bg-opacity))"},!1===s&&{"--bg-opacity":"1",backgroundColor:"rgba(245, 101, 101, var(--bg-opacity))"}]})),Object(c.f)("div",{css:{display:"flex",alignItems:"center",fontFamily:'Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',"--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))",fontSize:".75rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"1","@media (min-width: 768px)":{fontSize:".875rem"}}},Object(c.f)("span",null,t.host,":",t.port)))),n&&Object(c.f)("div",{css:{display:"flex",alignItems:"center",marginLeft:"0.5rem"}},Object(c.f)(G.a,{onClick:e=>{e.stopPropagation(),e.preventDefault(),i&&i(e)},label:"delete profile",css:[{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem","--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))"},Object(N.a)("padding:0;svg{",{transitionProperty:"background-color, border-color, color, fill, stroke",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",width:"1rem",height:"1rem"},"}&:hover svg{",{"--text-opacity":"1",color:"rgba(74, 85, 104, var(--text-opacity))"},"}")]},Object(c.f)(K.a,null))))},J=a(29);var X=()=>{const e=Object(r.useRef)(!0),[t,a]=Object(r.useState)();return Object(r.useEffect)((()=>{let t=!0;if(!Object(J.c)())return e.current?F.a.get("https://cdn.jsdelivr.net/gh/geekdada/ad-json/ad.json",{timeout:3e3}).then((e=>{let{data:r}=e;const{list:o}=r,n=o.filter((e=>20201013===e.id));if(!n.length)throw new Error("Target ad not found");t&&a(n[0])})).catch((()=>{t&&a({id:1,name:"\u8bf7\u6211\u559d\u5496\u5561\uff01",url:"https://surgio.royli.dev/support.html"})})):t&&a({id:1,name:"\u8bf7\u6211\u559d\u5496\u5561\uff01",url:"https://surgio.royli.dev/support.html"}),()=>{t=!1}}),[]),Object(c.f)(o.a.Fragment,null,t&&Object(c.f)(m.a.OutboundLink,{eventLabel:`IndexAd_${t.name}`,to:t.url,target:"_blank"},Object(c.f)("div",{css:{"--bg-opacity":"1",backgroundColor:"rgba(235, 248, 255, var(--bg-opacity))",borderWidth:"1px","--border-opacity":"1",borderColor:"rgba(66, 153, 225, var(--border-opacity))",borderRadius:"0.25rem","--text-opacity":"1",color:"rgba(43, 108, 176, var(--text-opacity))",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",display:"flex",alignItems:"center"}},e.current&&Object(c.f)("span",{css:{display:"flex",borderRadius:"9999px","--bg-opacity":"1",backgroundColor:"rgba(102, 126, 234, var(--bg-opacity))",textTransform:"uppercase",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:".75rem",fontWeight:"700","--text-opacity":"1",color:"rgba(255, 255, 255, var(--text-opacity))",marginRight:"0.75rem"}},"AD"),Object(c.f)("span",null,t.name))))},Q=a(55),Z=a(60);function ee(){return Object(c.f)(z.a,{size:"tera",noMargin:!0,css:{position:"sticky",top:"0",display:"flex",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","--bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--bg-opacity))",zIndex:"10",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",marginBottom:"1rem"}},"Surge Web Dashboard",Object(c.f)("small",{css:{fontSize:".75rem",fontWeight:"400",fontFamily:'Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',"--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))",marginLeft:"0.75rem"}},"v1.1.2"))}function te(){const e=window.location.protocol,t=Object(r.useState)((()=>({name:"",host:"",port:"",key:"",useTls:"https:"===e}))),[a,o]=Object(r.useState)(!1),[n,i]=Object(r.useState)(!1),[c,l]=Object(r.useState)(!1);return{data:t[0],setData:t[1],hasError:a,setHasError:o,isLoading:n,setIsLoading:i,keepCredential:c,setKeepCredential:l}}async function ae(e,t,a,r){var o;const n=F.a.request({url:`${e}//${t}:${a}/v1/outbound`,method:"GET",timeout:3e3,headers:{"x-key":r},responseType:"json"}),i=F.a.request({url:`${e}//${t}:${a}/v1/environment`,method:"GET",timeout:3e3,headers:{"x-key":r},responseType:"json"}).then((e=>e.data)).catch((()=>{})),[c,l]=await Promise.all([n,i]);return{name:l?l.deviceName:void 0,platform:(null===(o=c.headers["x-system"])||void 0===o?void 0:o.includes("macOS"))?"macos":"ios",platformVersion:c.headers["x-surge-version"]||"",platformBuild:c.headers["x-surge-build"]||""}}var re={name:"1okdv6k",styles:"padding-bottom:calc(env(safe-area-inset-bottom) + 1.25rem);"};var oe=()=>{const e=Object(b.g)(),t=window.location.protocol,{isLoading:a,setIsLoading:o}=te(),[n,i,l]=Object(Q.a)([]),p=Object(B.f)(),{t:u}=Object(d.a)(),{getValues:m,register:g,handleSubmit:v,control:O,clearErrors:h,setError:j,reset:y,formState:{errors:x}}=Object(I.b)({defaultValues:{keepCredential:!1,useTls:"https:"===window.location.protocol}}),k=t=>{l().then((a=>{const r=Object(s.a)(a,{id:t});r&&(m("keepCredential")&&f.a.set(E.c,r.id),p({type:"update",payload:r}),e.replace("/home"))}))};return Object(r.useEffect)((()=>{const e=f.a.get(E.a);e&&i(e)}),[i]),Object(c.f)("div",{css:re},Object(c.f)(ee,null),Object(c.f)("div",{css:{maxWidth:"20rem",marginLeft:"auto",marginRight:"auto","@media (min-width: 640px)":{maxWidth:"24rem"},"@media (min-width: 768px)":{maxWidth:"28rem"}}},Object(c.f)(z.a,{size:"tera"},u("landing.add_new_host")),Object(c.f)("div",{css:{"--bg-opacity":"1",backgroundColor:"rgba(230, 255, 250, var(--bg-opacity))",borderTopWidth:"4px","--border-opacity":"1",borderColor:"rgba(56, 178, 172, var(--border-opacity))",borderBottomLeftRadius:"0.25rem",borderBottomRightRadius:"0.25rem","--text-opacity":"1",color:"rgba(35, 78, 82, var(--text-opacity))",fontSize:".875rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",marginBottom:"1rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},Object(c.f)("p",{css:{lineHeight:"1.5",marginBottom:"0.5rem"}},"\u8be5\u529f\u80fd\u4ec5 Surge iOS 4.4.0 \u548c Surge Mac 4.0.0 \u4ee5\u4e0a\u7248\u672c\u652f\u6301\u3002"),Object(c.f)("p",{css:{lineHeight:"1.5",marginBottom:"1rem"}},Object(c.f)("a",{href:"https://manual.nssurge.com/others/http-api.html#configuration",target:"_blank",rel:"noreferrer",css:{borderBottomWidth:"1px",borderStyle:"solid","--border-opacity":"1",borderColor:"rgba(56, 178, 172, var(--border-opacity))"}},"\ud83d\udd17 \u5f00\u542f\u65b9\u5f0f")),Object(c.f)("p",{css:{lineHeight:"1.5",marginBottom:"0.5rem"}},"Surge Mac v4.0.6 (1280) \u5f00\u59cb\u5df2\u652f\u6301\u5f00\u542f HTTPS API\uff0c\u6545\u4e0d\u518d\u652f\u6301\u4f7f\u7528 yasd-helper\u3002")),Object(c.f)("form",{onSubmit:v((e=>{e.name&&e.host&&e.port&&e.key&&(o(!0),ae(e.useTls?"https:":"http:",e.host,e.port,e.key).then((t=>{h();const a=(e=>{const t={...e,id:Object(q.a)()},a=[t,...n];return i(a),m("keepCredential")&&(f.a.set(E.a,a),f.a.set(E.c,t.id)),t})({name:e.name,host:e.host,port:Number(e.port),key:e.key,platform:t.platform,platformVersion:t.platformVersion,platformBuild:t.platformBuild,tls:e.useTls});y(),o(!1),k(a.id)})).catch((e=>{j("key",{type:"invalid",message:e.message}),j("host",{type:"invalid"}),j("port",{type:"invalid"}),console.error(e),o(!1)})))}))},Object(c.f)(D.a,Object.assign({type:"text",invalid:!!(null===x||void 0===x?void 0:x.name),validationHint:Object(Z.a)({required:u("devices.err_required")},null===x||void 0===x?void 0:x.name),label:u("landing.name"),placeholder:"Mac"},g("name",{required:!0}))),Object(c.f)(D.a,Object.assign({type:"text",invalid:!!(null===x||void 0===x?void 0:x.host),label:u("landing.host"),placeholder:"127.0.0.1",validationHint:u("landing.host_tips")},g("host",{required:!0}))),Object(c.f)(D.a,Object.assign({type:"number",invalid:!!(null===x||void 0===x?void 0:x.port),label:u("landing.port"),placeholder:"6171",validationHint:Object(Z.a)({required:u("devices.err_required")},null===x||void 0===x?void 0:x.port)},g("port",{required:!0}))),Object(c.f)(D.a,Object.assign({type:"password",invalid:!!(null===x||void 0===x?void 0:x.key),validationHint:Object(Z.a)({required:u("devices.err_required")},null===x||void 0===x?void 0:x.key),label:u("landing.key"),placeholder:"examplekey"},g("key",{required:!0}))),Object(c.f)("div",null,Object(c.f)(I.a,{name:"useTls",control:O,render:e=>{let{field:a}=e;return Object(c.f)(H.a,{disabled:"https:"===t,checked:a.value,onChange:a.onChange},u("landing.https"))}}),Object(c.f)(I.a,{name:"keepCredential",control:O,render:e=>{let{field:t}=e;return Object(c.f)(H.a,{checked:t.value,onChange:t.onChange},u("landing.remember_me"))}})),Object(c.f)("div",{css:{marginTop:"1.5rem"}},Object(c.f)(U.a,{type:"submit",variant:"primary",stretch:!0,isLoading:a,loadingLabel:u("landing.is_loading")},u("landing.confirm"))))),n.length>0&&Object(c.f)("div",{css:{maxWidth:"20rem",marginLeft:"auto",marginRight:"auto",marginTop:"2.5rem","@media (min-width: 640px)":{maxWidth:"24rem"},"@media (min-width: 768px)":{maxWidth:"28rem"}}},Object(c.f)(z.a,{size:"mega"},u("landing.history")),Object(c.f)("div",{css:{"--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))","> :not(template) ~ :not(template)":{"--divide-y-reverse":0,borderTopWidth:"calc(1px * calc(1 - var(--divide-y-reverse)))",borderBottomWidth:"calc(1px * var(--divide-y-reverse))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"},borderRadius:"0.25rem",overflow:"hidden"}},n.map((e=>Object(c.f)("div",{key:e.id,css:{":hover":{"--bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--bg-opacity))"}}},Object(c.f)(Y,{profile:e,variant:"left",checkConnectivity:!0,showDelete:!0,onClick:()=>k(e.id),onDelete:()=>(e=>{const t=n.filter((t=>t.id!==e));i(t),f.a.set(E.a,t)})(e.id)})))))),Object(c.f)("div",{css:{maxWidth:"20rem",marginLeft:"auto",marginRight:"auto",marginTop:"2.5rem","@media (min-width: 640px)":{maxWidth:"24rem"},"@media (min-width: 768px)":{maxWidth:"28rem"}}},Object(c.f)(X,null)),Object(c.f)("div",{css:{marginTop:"2.5rem"}},Object(c.f)(V,null)))};var ne={name:"1okdv6k",styles:"padding-bottom:calc(env(safe-area-inset-bottom) + 1.25rem);"};var ie=()=>{const{t:e}=Object(d.a)(),{isLoading:t,setIsLoading:a}=te(),[o,n,i]=Object(Q.a)([]),l=Object(B.f)(),p=Object(B.e)(),u=Object(b.g)(),{getValues:m,register:g,handleSubmit:v,control:O,clearErrors:h,setError:j,formState:{errors:y}}=Object(I.b)({defaultValues:{keepCredential:!1}});return Object(r.useEffect)((()=>{const e=f.a.get(E.a),t=f.a.get(E.c);if(e){const a=Object(s.a)(e,{id:t});n(e),a&&l({type:"update",payload:a})}}),[l,n]),Object(r.useEffect)((()=>{p&&u.replace("/home")}),[p,u]),Object(c.f)("div",{css:ne},Object(c.f)(ee,null),Object(c.f)("div",{css:{maxWidth:"20rem",marginLeft:"auto",marginRight:"auto","@media (min-width: 640px)":{maxWidth:"24rem"},"@media (min-width: 768px)":{maxWidth:"28rem"}}},Object(c.f)(z.a,{size:"tera"},e("landing.login")),Object(c.f)("form",{onSubmit:v((e=>{if(!e.key)return;const{hostname:t,port:r,protocol:c}={protocol:window.location.protocol,hostname:window.location.hostname,port:window.location.port};a(!0),ae(c,t,r,e.key).then((d=>{h();const b=(e=>{const t={...e,id:Object(q.a)()},a=[t,...o];return n(a),m("keepCredential")&&(f.a.set(E.a,a),f.a.set(E.c,t.id)),t})({name:d.name||"Surge for Mac",host:t,port:Number(r),key:e.key,platform:d.platform,platformVersion:d.platformVersion,platformBuild:d.platformBuild,tls:"https:"===c});var p;a(!1),p=b.id,i().then((e=>{const t=Object(s.a)(e,{id:p});t&&(m("keepCredential")&&f.a.set(E.c,t.id),l({type:"update",payload:t}))}))})).catch((e=>{j("key",{type:"invalid",message:e.message}),console.error(e),a(!1)}))}))},Object(c.f)(D.a,Object.assign({type:"password",invalid:!!(null===y||void 0===y?void 0:y.key),validationHint:Object(Z.a)({required:e("devices.err_required")},null===y||void 0===y?void 0:y.key),label:e("landing.key"),placeholder:"examplekey"},g("key",{required:!0}))),Object(c.f)("div",null,Object(c.f)(I.a,{name:"keepCredential",control:O,render:t=>{let{field:a}=t;return Object(c.f)(H.a,{checked:a.value,onChange:a.onChange},e("landing.remember_me"))}})),Object(c.f)("div",{css:{marginTop:"1.5rem"}},Object(c.f)(U.a,{type:"submit",variant:"primary",stretch:!0,isLoading:t,loadingLabel:e("landing.is_loading")},e("landing.confirm"))))),Object(c.f)("div",{css:{marginTop:"2.5rem"}},Object(c.f)(V,null)))},ce=a(251),le=a(115),se=a(53),de=a(149),be=a(15);var pe=()=>{const e=Object(B.e)();return Object(c.f)("div",{css:{"--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))",borderRadius:"0.5rem"}},e&&Object(c.f)(Y,{variant:"left",profile:e}))},ue=a(150),fe=a(102),me=a.n(fe),ge=a(160),ve=a.n(ge);me.a.extend(ve.a);var Oe={name:"16vc934",styles:"font-size:0.6rem;padding:0.1rem 0.5rem;"},he={name:"yfurtq",styles:"word-break:break-word;overflow-wrap:break-word;"};var je=()=>{const{t:e}=Object(d.a)(),t=Object(B.e)(),{data:a}=Object(v.b)(void 0!==t?"/events":null,be.a);return Object(c.f)("div",{css:{padding:"0.75rem","--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))",borderRadius:"0.25rem"}},Object(c.f)("div",{css:{fontSize:"1rem",fontWeight:"500","--text-opacity":"1",color:"rgba(74, 85, 104, var(--text-opacity))"}},e("home.events")),Object(c.f)("div",{css:{"> :not(template) ~ :not(template)":{"--divide-y-reverse":0,borderTopWidth:"calc(1px * calc(1 - var(--divide-y-reverse)))",borderBottomWidth:"calc(1px * var(--divide-y-reverse))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"},marginTop:"0.25rem"}},a&&a.events.slice(0,8).map((e=>Object(c.f)("div",{key:e.identifier,css:{paddingTop:"0.25rem",paddingBottom:"0.25rem"}},Object(c.f)("div",{css:[he,{fontSize:".875rem",lineHeight:"1.5","--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))"}]},e.content),Object(c.f)("div",{css:{fontSize:".75rem","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))",marginTop:"0.25rem"}},2===e.type&&Object(c.f)("span",{css:[{"--bg-opacity":"1",backgroundColor:"rgba(252, 129, 129, var(--bg-opacity))","--text-opacity":"1",color:"rgba(255, 255, 255, var(--text-opacity))",borderRadius:"0.25rem",marginRight:"0.25rem"},Oe]},"ERROR"),Object(c.f)("span",null,me()(e.date).format("L LTS"))))))))},ye=a(151);var xe={name:"1rhf5ou",styles:"user-select:none;min-height:8rem;"};const ke=Object(l.a)("div",{target:"e13cl8qe0"})(""),_e=e=>{let{title:t}=e;return Object(c.f)(z.a,{size:"mega",noMargin:!0,css:{"--text-opacity":"1",color:"rgba(45, 55, 72, var(--text-opacity))"}},t)};var Ce=e=>Object(c.f)("div",{onClick:t=>{e.onClick&&e.onClick(t)},css:[e.onClick&&{cursor:"pointer","--transform-translate-x":"0","--transform-translate-y":"0","--transform-rotate":"0","--transform-skew-x":"0","--transform-skew-y":"0","--transform-scale-x":"1","--transform-scale-y":"1",transform:"translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))",transitionProperty:"transform",transitionDuration:"100ms",":active":{"--transform-scale-x":".95","--transform-scale-y":".95"}}]},Object(c.f)(ye.a,{css:[xe,{padding:"1rem",borderStyle:"none",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)","--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))",transitionProperty:"background-color, border-color, color, fill, stroke",transitionDuration:"150ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},e.onClick&&{":hover":{"--bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--bg-opacity))"},":active":{"--bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--bg-opacity))"}}]},e.children)),we=a(247),Se=a(256);var Te=()=>{const{t:e}=Object(d.a)(),[t,a]=Object(r.useState)([]),{setModal:o}=Object(A.b)(),n=Object(B.e)(),i=Object(b.g)(),l=Object(r.useCallback)((e=>{const a=Object(s.a)(t,{id:e});a&&(f.a.set(E.c,a.id),window.location.reload())}),[t]);Object(r.useEffect)((()=>{const e=f.a.get(E.a);e&&a(e)}),[]);return Object(c.f)(G.a,{label:"change host",css:{width:"2.5rem",height:"2.5rem",padding:"0.25rem"},onClick:()=>{o({children:a=>{let{onClose:r}=a;return Object(c.f)(x.a,null,Object(c.f)(k.a,{title:e("landing.history"),onClose:r}),Object(c.f)("div",{css:{"--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))","> :not(template) ~ :not(template)":{"--divide-y-reverse":0,borderTopWidth:"calc(1px * calc(1 - var(--divide-y-reverse)))",borderBottomWidth:"calc(1px * var(--divide-y-reverse))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"},borderRadius:"0.25rem",overflow:"hidden"}},t.map((t=>Object(c.f)("div",{key:t.id,css:{display:"flex",flexDirection:"row",alignItems:"center",":hover":{"--bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--bg-opacity))"}}},t.id===(null===n||void 0===n?void 0:n.id)&&Object(c.f)(Se.a,{variant:"success",css:{marginLeft:"0.75rem",fontSize:".75rem","@media (min-width: 768px)":{fontSize:".875rem"}}},e("landing.current")),Object(c.f)("div",{css:{flex:"1 1 0%"}},Object(c.f)(Y,{profile:t,checkConnectivity:!0,onClick:()=>l(t.id)})))))),Object(c.f)("div",{css:{marginTop:"1rem"}},Object(c.f)(w.a,{size:"kilo",variant:"primary",onClick:()=>i.replace("/")},e("landing.add_new_host"))))},onClose(){}})}},Object(c.f)(we.a,null))},Ee=a(57),Re=a.n(Ee);var Pe=e=>{let{api:t,title:a,link:o}=e;const{t:n}=Object(d.a)(),i=Object(B.e)(),{data:l}=Object(v.b)(void 0!==i?t:null,be.a),s=Object(b.g)(),p=Object(r.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),Object(be.a)({method:"POST",url:t,data:{enabled:!(null===l||void 0===l?void 0:l.enabled)}}).then((()=>Object(v.c)(t))).catch((e=>{console.error(e)}))}),[t,l]);return Object(c.f)(Ce,{onClick:o?()=>s.push(o):void 0},Object(c.f)(_e,{title:n(`home.${a}`)}),Object(c.f)(ke,{css:[{display:"flex",justifyContent:"flex-end"}]},Object(c.f)(ce.a,{noMargin:!0,label:"",labelChecked:n("common.on"),labelUnchecked:n("common.off"),checked:null===l||void 0===l?void 0:l.enabled,onChange:p})))};const Ae=[{title:"policies",link:"/policies"},{title:"requests",link:"/requests"},{title:"traffic",link:"/traffic"},{title:"scripting",component:Object(c.f)(Pe,{api:"/features/scripting",title:"scripting",link:"/scripting"})},{title:"modules",link:"/modules"},{title:"device_management",link:"/devices",isEnabled:(e,t)=>Boolean("macos"===e&&t&&Re()(t,"4.0.6"))},{title:"dns",link:"/dns"},{title:"profile",link:"/profiles/current"},{title:"mitm",component:Object(c.f)(Pe,{api:"/features/mitm",title:"mitm"})},{title:"http_capture",component:Object(c.f)(Pe,{api:"/features/capture",title:"http_capture"})},{title:"rewrite",component:Object(c.f)(Pe,{api:"/features/rewrite",title:"rewrite"})}];Object(J.c)()||Ae.push({title:"github",subTitle:"\ud83c\udf1f",link:"https://github.com/geekdada/yasd"});var We=Ae;var Le={name:"1qqk0tr",styles:"padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);"},Be={name:"1okdv6k",styles:"padding-bottom:calc(env(safe-area-inset-bottom) + 1.25rem);"};var ze=()=>{const e=Object(b.g)(),t=Object(B.e)(),{data:a}=Object(v.b)("macos"===(null===t||void 0===t?void 0:t.platform)?"/features/system_proxy":null,be.a),{data:n}=Object(v.b)("macos"===(null===t||void 0===t?void 0:t.platform)?"/features/enhanced_mode":null,be.a),{t:i}=Object(d.a)(),l=Object(B.b)(),s=Object(B.d)(),p=Object(B.c)(),u=Object(r.useCallback)((()=>{Object(be.a)({method:"POST",url:"/features/system_proxy",data:{enabled:!(null===a||void 0===a?void 0:a.enabled)}}).then((()=>Object(le.delay)(100).then((()=>Object(v.c)("/features/system_proxy"))))).catch((e=>{console.error(e)}))}),[a]),m=Object(r.useCallback)((()=>{Object(be.a)({method:"POST",url:"/features/enhanced_mode",data:{enabled:!(null===n||void 0===n?void 0:n.enabled)}}).then((()=>Object(le.delay)(100).then((()=>Object(v.c)("/features/enhanced_mode"))))).catch((e=>{console.error(e)}))}),[n]);return Object(c.f)(o.a.Fragment,null,Object(c.f)("div",{css:Be},Object(c.f)(z.a,{size:"tera",noMargin:!0,css:{position:"sticky",top:"0",display:"flex",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","--bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--bg-opacity))",zIndex:"10",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",marginBottom:"1rem"}},t&&Object(c.f)("div",{css:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},Object(c.f)("div",{css:{width:"66.666667%"},onDoubleClick:J.a},Object(c.f)(pe,null)),Object(J.c)()?Object(c.f)("div",null,Object(c.f)(w.a,{size:"kilo",onClick:()=>{f.a.remove(E.c),f.a.remove(E.a),window.location.reload()}},i("home.logout"))):Object(c.f)(Te,null))),Object(c.f)("div",{css:Le},Object(c.f)("div",{css:{marginBottom:"1rem"}},Object(c.f)(ue.b,null)),Object(c.f)(de.a,{macos:"0.0.0"},Object(c.f)(se.a,{css:{marginLeft:"1rem",marginRight:"1rem"}},Object(c.f)(se.b,null,Object(c.f)(se.c,null,Object(c.f)("div",{css:{fontWeight:"500"}},i("home.system_proxy")),Object(c.f)("div",null,Object(c.f)(ce.a,{noMargin:!0,label:"",labelChecked:"",labelUnchecked:"",checked:null===a||void 0===a?void 0:a.enabled,onChange:()=>u()})))),Object(c.f)(se.b,null,Object(c.f)(se.c,null,Object(c.f)("div",{css:{fontWeight:"500"}},i("home.enhanced_mode")),Object(c.f)("div",null,Object(c.f)(ce.a,{noMargin:!0,label:"",labelChecked:"",labelUnchecked:"",checked:null===n||void 0===n?void 0:n.enabled,onChange:()=>m()})))))),Object(c.f)("div",{css:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"1rem",paddingLeft:"1rem",paddingRight:"1rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},"@media (min-width: 1024px)":{gridTemplateColumns:"repeat(4, minmax(0, 1fr))"}}},We.map((t=>"function"!==typeof t.isEnabled||t.isEnabled(l,s)?Object(c.f)("div",{key:t.title},t.component?t.component:Object(c.f)(Ce,{onClick:()=>{var a;(a=t.link)&&(a.startsWith("http")?window.open(a,"_blank","noopener noreferrer"):e.push(a))}},Object(c.f)(_e,{title:i(`home.${t.title}`)}),t.subTitle&&Object(c.f)("div",{css:{fontSize:"1rem","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))"}},t.subTitle))):null))),Object(c.f)("div",{css:{marginTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem"}},Object(c.f)(je,null)),Object(c.f)("div",{css:{marginTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem"}},Object(c.f)(X,null)),Object(c.f)("div",{css:{marginTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem"}},Object(c.f)(V,null)),Object(c.f)("div",{css:{textAlign:"center",marginTop:"1rem",fontSize:".875rem"}},Boolean(l&&p&&s)&&Object(c.f)("code",{css:{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"0.25rem","--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))"}},"v","1.1.2"," - ",l," v",s,"(",p,")")))))};var De=Object(l.a)("main",{target:"e18j15480"})({position:"relative",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},";");const He=Object(p.a)((()=>a.e(16).then(a.bind(null,310))),{fallback:Object(c.f)(j,null)}),Ue=Object(p.a)((()=>Promise.all([a.e(1),a.e(9),a.e(18)]).then(a.bind(null,311))),{fallback:Object(c.f)(j,null)}),Ie=Object(p.a)((()=>a.e(8).then(a.bind(null,312))),{fallback:Object(c.f)(j,null)}),qe=Object(p.a)((()=>a.e(14).then(a.bind(null,304))),{fallback:Object(c.f)(j,null)}),Me=Object(p.a)((()=>a.e(13).then(a.bind(null,308))),{fallback:Object(c.f)(j,null)}),Ve=Object(p.a)((()=>a.e(12).then(a.bind(null,305))),{fallback:Object(c.f)(j,null)}),Ne=Object(p.a)((()=>Promise.all([a.e(1),a.e(17)]).then(a.bind(null,306))),{fallback:Object(c.f)(j,null)}),$e=Object(p.a)((()=>a.e(10).then(a.bind(null,309))),{fallback:Object(c.f)(j,null)}),Fe=Object(p.a)((()=>a.e(11).then(a.bind(null,307))),{fallback:Object(c.f)(j,null)}),Ke=Object(l.a)(g.a,{target:"e3ylyvq0"})({name:"ohcxu2",styles:"padding:0.5rem;@media (min-width: 768px){padding:0;} .Toastify__toast{display:flex;align-items:center;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.75rem;padding-bottom:0.75rem;--bg-opacity:1;background-color:rgba(235, 248, 255, var(--bg-opacity));border-radius:0.25rem;box-shadow:none;}.Toastify__close-button,.Toastify__toast-body{--text-opacity:1;color:rgba(43, 108, 176, var(--text-opacity));}.Toastify__toast-body{font-size:1rem;}.Toastify__close-button{display:block;margin-left:0.75rem;align-self:center;}.Toastify__progress-bar{--bg-opacity:1;background-color:rgba(190, 227, 248, var(--bg-opacity));}.Toastify__toast--error{--bg-opacity:1;background-color:rgba(255, 245, 245, var(--bg-opacity)); .Toastify__close-button,.Toastify__toast-body{--text-opacity:1;color:rgba(197, 48, 48, var(--text-opacity));}.Toastify__progress-bar{--bg-opacity:1;background-color:rgba(254, 215, 215, var(--bg-opacity));}}.Toastify__toast--warning{--bg-opacity:1;background-color:rgba(255, 250, 240, var(--bg-opacity));border-left-width:4px;--border-opacity:1;border-color:rgba(237, 137, 54, var(--border-opacity)); .Toastify__close-button,.Toastify__toast-body{--text-opacity:1;color:rgba(192, 86, 33, var(--text-opacity));}.Toastify__progress-bar{--bg-opacity:1;background-color:rgba(254, 235, 200, var(--bg-opacity));}}.Toastify__toast--success{--bg-opacity:1;background-color:rgba(240, 255, 244, var(--bg-opacity)); .Toastify__close-button,.Toastify__toast-body{--text-opacity:1;color:rgba(47, 133, 90, var(--text-opacity));}.Toastify__progress-bar{--bg-opacity:1;background-color:rgba(198, 246, 213, var(--bg-opacity));}}"});(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_USE_SW:"true",REACT_APP_SHOW_AD:"true",REACT_APP_HASH_ROUTER:"true",REACT_APP_VERSION:"1.1.2"}).REACT_APP_DEBUG_GA||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_USE_SW:"true",REACT_APP_SHOW_AD:"true",REACT_APP_HASH_ROUTER:"true",REACT_APP_VERSION:"1.1.2"}).REACT_APP_ENABLE_GA)&&m.a.initialize("UA-146417304-2",{debug:!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_USE_SW:"true",REACT_APP_SHOW_AD:"true",REACT_APP_HASH_ROUTER:"true",REACT_APP_VERSION:"1.1.2"}).REACT_APP_DEBUG_GA});var Ge=()=>{const{t:e,i18n:t}=Object(d.a)(),[a,o]=Object(r.useState)(!1),n=Object(b.h)(),i=Object(b.g)(),l=Object(B.f)(),p=Object(B.e)(),[u,O]=Object(r.useState)(!1),h=Object(r.useRef)(!0),j=Object(B.d)(),y=Object(r.useCallback)((()=>{Object(J.c)()&&(f.a.remove(E.c),f.a.remove(E.a)),window.location.replace("/")}),[]);return Object(r.useEffect)((()=>{const e=f.a.get(E.a),t=f.a.get(E.c),a=Object(s.a)(e,{id:t});a&&l({type:"update",payload:a}),O(!0)}),[]),Object(r.useEffect)((()=>{u&&!p&&"/"!==n.pathname&&i.replace("/")}),[u,i,n.pathname,p]),Object(r.useEffect)((()=>{m.a.pageview(n.pathname)}),[n.pathname]),Object(r.useEffect)((()=>{const e=f.a.get(E.b);e&&e!==t.language&&t.changeLanguage(e)}),[t]),Object(r.useEffect)((()=>{(null===p||void 0===p?void 0:p.platform)&&h.current&&"/"!==n.pathname&&be.b.request({url:"/environment",method:"GET"}).then((e=>{const t=e.headers["x-surge-version"];t!==j&&l({type:"updatePlatformVersion",payload:{platformVersion:t}}),h.current=!1})).catch((t=>{console.error(t),g.b.error(e("common.surge_too_old"))}))}),[n,j,null===p||void 0===p?void 0:p.platform,l,e]),Object(c.f)(v.a,{value:{onError:e=>{"/"!==n.pathname&&!e.response&&e.request&&o(!0)},refreshWhenOffline:!0}},Object(c.f)(W,null),Object(c.f)(Ke,null),Object(c.f)(L,{reloadButton:Object(J.c)(),isOpen:a,onClose:y}),Object(c.f)(P,null),Object(c.f)(De,null,Object(c.f)(b.d,null,Object(c.f)(b.b,{exact:!0,path:"/"},Object(J.c)()?Object(c.f)(ie,null):Object(c.f)(oe,null)),Object(c.f)(b.b,{exact:!0,path:"/home"},Object(c.f)(ze,null)),Object(c.f)(b.b,{exact:!0,path:"/policies"},Object(c.f)(He,null)),Object(c.f)(b.b,{exact:!0,path:"/requests"},Object(c.f)(Ue,null)),Object(c.f)(b.b,{exact:!0,path:"/traffic"},Object(c.f)(Ie,null)),Object(c.f)(b.b,{exact:!0,path:"/modules"},Object(c.f)(qe,null)),Object(c.f)(b.b,{exact:!0,path:"/scripting"},Object(c.f)(Me,null)),Object(c.f)(b.b,{exact:!0,path:"/scripting/evaluate"},Object(c.f)(Ve,null)),Object(c.f)(b.b,{exact:!0,path:"/dns"},Object(c.f)(Ne,null)),Object(c.f)(b.b,{exact:!0,path:"/devices"},Object(c.f)($e,null)),Object(c.f)(b.b,{exact:!0,path:"/profiles/current"},Object(c.f)(Fe,null)),Object(c.f)(b.b,{path:"*"},Object(c.f)(b.a,{to:"/"})))))},Ye=a(66),Je=a(164),Xe=a(89),Qe=a(36);const Ze=e=>o.a.createElement(Qe.a,e,e.children),et=Object(Ye.a)({key:"yasd"});var tt=e=>{let{children:t}=e;return o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(c.a,{value:et},o.a.createElement(Ze,null,o.a.createElement(B.a,null,o.a.createElement(Xe.a,{theme:Je.a},o.a.createElement(A.a,null,t))))))},at=a(96),rt=a(116),ot=a(70),nt=a(161),it=a(162),ct=a.n(it);rt.a.use(ot.e).use(nt.a).init({lng:navigator.language.substr(0,2),fallbackLng:"en",supportedLngs:["en","zh"],nonExplicitSupportedLngs:!0,interpolation:{escapeValue:!1},backend:{backends:[ct()(((e,t,r)=>{a(235)(`./${e}/${t}.json`).then((e=>r(null,e))).catch((e=>r(e,void 0)))}))]}});rt.a;i.a.render(Object(c.f)(o.a.StrictMode,null,Object(c.f)(tt,null,Object(c.f)(Ge,null))),document.getElementById("root")),at.a(),"scrollBehavior"in document.documentElement.style||a.e(22).then(a.t.bind(null,302,7)).then((e=>{e.polyfill()}))},29:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));var r=a(96);const o=e=>0===e||!1===e||"string"===typeof e&&0===e.length,n=e=>1===e||!0===e||"string"===typeof e&&e.length>0,i=()=>"REACT_APP_RUN_IN_SURGE"in Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_USE_SW:"true",REACT_APP_SHOW_AD:"true",REACT_APP_HASH_ROUTER:"true",REACT_APP_VERSION:"1.1.2"}),c=async()=>{await Object(r.b)(),window.location.reload()}},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return l}));var r=a(11),o=a(0);a(1);const n=e=>Object(o.f)("div",null,e.title&&Object(o.f)("div",{css:{"--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))",fontSize:".875rem",lineHeight:"1.5",paddingLeft:"0.75rem",paddingRight:"0.75rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","@media (min-width: 1024px)":{fontSize:"1rem",lineHeight:"1.625"}}},e.title),Object(o.f)("div",{css:{"> :not(template) ~ :not(template)":{"--divide-y-reverse":0,borderTopWidth:"calc(1px * calc(1 - var(--divide-y-reverse)))",borderBottomWidth:"calc(1px * var(--divide-y-reverse))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"},"--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))",borderRadius:"0.5rem",marginBottom:"1rem",overflow:"hidden"}},e.children)),i=Object(r.a)("div",{target:"ed694el0"})(""),c=Object(r.a)("div",{target:"ed694el1"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",lineHeight:"1.5","--text-opacity":"1",color:"rgba(45, 55, 72, var(--text-opacity))"}," & > div:last-of-type{",{"--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))"},"}"),l=Object(r.a)("div",{target:"ed694el2"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.75rem",paddingRight:"0.75rem",lineHeight:"1.5",fontSize:".75rem","--text-opacity":"1",color:"rgba(45, 55, 72, var(--text-opacity))","@media (min-width: 1024px)":{fontSize:".875rem",lineHeight:"1.625"}}," & > div:last-of-type{",{"--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))"},"}")},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var r=a(1);const o=e=>{const[t,a]=Object(r.useState)(e);return[t,a,async()=>{let e;return await a((t=>(e=t,t))),e}]};var n=a(57),i=a.n(n),c=a(7);const l=e=>{let{macos:t,ios:a}=e;const r=Object(c.b)(),o=Object(c.d)();return!(!r||!o)&&(!(!t||"macos"!==r||!i()(o,t))||!(!a||"ios"!==r||!i()(o,a)))}},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return i}));const r="existingProfiles",o="lastUsedProfile",n="lastUsedVersion",i="lastUsedLanguage"},60:function(e,t,a){"use strict";function r(e,t){if(t){for(const a in e)if(t.type===a)return e[a];return t.message}}a.d(t,"a",(function(){return r}))},7:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"g",(function(){return O})),a.d(t,"f",(function(){return h}));var r=a(1),o=a.n(r),n=a(15),i=a(163),c=a(5),l=a.n(c),s=a(6);const d=(e,t)=>{switch(t.type){case"update":return Object(n.c)(t.payload.host,t.payload.port,t.payload.key,{tls:t.payload.tls}),{profile:t.payload};case"clear":return{profile:void 0};case"updatePlatformVersion":{if(!e.profile)throw new Error("updatePlatformVersion cannot be dispatched if the profile is absent.");const a={...e.profile,platformVersion:t.payload.platformVersion};return((e,t)=>{const a=l.a.get(s.a);if(a){const r=Object(i.a)(a,{id:e});-1!==r&&(a.splice(r,1,t),l.a.set(s.a,a))}})(a.id,a),{profile:a}}default:throw new Error}},b=Object(r.createContext)({profile:void 0}),p=Object(r.createContext)(void 0),u=e=>{const[t,a]=Object(r.useReducer)(d,{profile:void 0});return o.a.createElement(b.Provider,{value:t},o.a.createElement(p.Provider,{value:a},e.children))},f=()=>o.a.useContext(b).profile,m=()=>{var e;return null===(e=o.a.useContext(b).profile)||void 0===e?void 0:e.platform},g=()=>{var e;return null===(e=o.a.useContext(b).profile)||void 0===e?void 0:e.platformVersion},v=()=>{var e;return null===(e=o.a.useContext(b).profile)||void 0===e?void 0:e.platformBuild},O=()=>{const e=o.a.useContext(b);if(!e.profile)return null;const{tls:t,host:a,port:r}=e.profile;return`${t?"https:":"http:"}//${a}:${r}`},h=()=>{const e=o.a.useContext(p);if(!e)throw new Error;return e}},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));const r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="/service-worker.js";r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((a=>{const r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):n(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):n(t,e)}))}}function n(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}async function i(){if("serviceWorker"in navigator)return navigator.serviceWorker.ready.then((e=>e.unregister()))}}},[[236,6,7]]]);
//# sourceMappingURL=main.6d26b006.chunk.js.map