(this.webpackJsonpyasd=this.webpackJsonpyasd||[]).push([[13],{257:function(e,t,r){"use strict";var n=r(0),i=r(245),a=r(264),o=(r(1),r(9));var c={name:"by4vme",styles:"padding:0.3rem;"};t.a=()=>{const e=Object(o.g)();return Object(n.f)(i.a,{onClick:()=>e.goBack(),label:"back",css:[c,{width:"2rem",height:"2rem",marginRight:"0.75rem",alignSelf:"center"}]},Object(n.f)(a.a,null))}},262:function(e,t,r){"use strict";var n=r(50),i=r(0),a=r(167),o=r(266),c=r(1),s=r(257);var l={name:"z89845",styles:"margin-right:env(safe-area-inset-right);"},d={name:"1od6or",styles:"padding-left:env(safe-area-inset-left);"};t.a=e=>{const[t,r]=Object(c.useState)((()=>{var t;return null!==(t=e.defaultAutoRefreshState)&&void 0!==t&&t})),p=Object(c.useMemo)((()=>"undefined"===typeof e.sticky||e.sticky),[e.sticky]);return Object(c.useEffect)((()=>{e.hasAutoRefresh&&e.onAuthRefreshStateChange&&e.onAuthRefreshStateChange(t)}),[t,e,e.hasAutoRefresh,e.onAuthRefreshStateChange]),Object(i.f)(a.a,{size:"tera",noMargin:!0,css:[p?{position:"sticky",top:"0"}:"",{display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","--bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--bg-opacity))",zIndex:"10",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},Object(n.a)("")]},Object(i.f)("div",{css:[d,{display:"flex",alignItems:"center"}]},Object(i.f)(s.a,null),Object(i.f)("div",null,e.title)),e.hasAutoRefresh&&Object(i.f)("div",{onClick:()=>r(!t),css:[{"--bg-opacity":"1",backgroundColor:"rgba(66, 153, 225, var(--bg-opacity))","--text-opacity":"1",color:"rgba(255, 255, 255, var(--text-opacity))",cursor:"pointer",width:"2.5rem",height:"2.5rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color, color, fill, stroke",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},t&&{"--bg-opacity":"1",backgroundColor:"rgba(252, 129, 129, var(--bg-opacity))"},l]},Object(i.f)(o.a,{css:[{width:"1.5rem",height:"1.5rem"},t&&{animation:"spin 1s linear infinite"}]})))}},263:function(e,t,r){"use strict";var n=r(0);r(1);var i={name:"12ax8ys",styles:"padding-bottom:env(safe-area-inset-bottom);"};t.a=e=>{let t=!0;return"boolean"===typeof e.offsetBottom&&(t=e.offsetBottom),Object(n.f)("div",{css:[{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",height:"100%",overflow:"hidden"},t?i:""]},Object(n.f)("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}},e.children))}},264:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),i=r.n(n),a=function(e){return i.a.createElement("svg",e,i.a.createElement("path",{d:"M10 4L6 8l4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))};a.defaultProps={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},266:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),i=r.n(n),a=function(e){return i.a.createElement("svg",e,i.a.createElement("path",{d:"M2 8a1 1 0 00-2 0h2zm6-8a1 1 0 000 2V0zm6 8a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6 6a6 6 0 01-6-6H0a8 8 0 008 8v-2zM8 2a6 6 0 016 6h2a8 8 0 00-8-8v2z",fill:"currentColor"}))};a.defaultProps={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},308:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1),a=r(237),o=r(9),c=r(47),s=r(16),l=r(82),d=r(153),p=r(141);var f=function(e){return e!==e};var u=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};var g=function(e,t,r){return t===t?u(e,t,r):Object(p.a)(e,f,r)};var b=function(e,t){return!!(null==e?0:e.length)&&g(e,t,0)>-1};var v=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1},h=r(145),m=r(95);var y=function(){},j=r(122),O=m.a&&1/Object(j.a)(new m.a([,-0]))[1]==1/0?function(e){return new m.a(e)}:y;var w=function(e,t,r){var n=-1,i=b,a=e.length,o=!0,c=[],s=c;if(r)o=!1,i=v;else if(a>=200){var l=t?null:O(e);if(l)return Object(j.a)(l);o=!1,i=h.a,s=new d.a}else s=t?[]:c;e:for(;++n<a;){var p=e[n],f=t?t(p):p;if(p=r||0!==p?p:0,o&&f===f){for(var u=s.length;u--;)if(s[u]===f)continue e;t&&s.push(f),c.push(p)}else i(s,f,r)||(s!==c&&s.push(f),c.push(p))}return c};var x=function(e,t){return e&&e.length?w(e,Object(l.a)(t,2)):[]},k=r(255),C=r(157),S=r(244),z=r(207),R=r(208),B=r(263),L=r(262),M=r(15);var _={name:"s6bgx",styles:"min-height:7rem;"},T={name:"1g1174o",styles:"padding-left:calc(env(safe-area-inset-left) + 0.75rem);padding-right:calc(env(safe-area-inset-right) + 0.75rem);"};t.default=()=>{const{t:e}=Object(a.a)(),t=Object(o.g)(),{data:r,error:l}=Object(s.b)("/scripting",M.a),[d,p]=Object(i.useState)(),[f,u]=Object(i.useState)(),g=Object(i.useMemo)((()=>r?x(r.scripts,(e=>`${e.name}-${e.type}`)):[]),[r]);return Object(n.f)(B.a,null,Object(n.f)(L.a,{title:e("home.scripting")}),Object(n.f)("div",{css:{flex:"1 1 0%",overflow:"auto"}},Object(n.f)("div",{css:{"> :not(template) ~ :not(template)":{"--divide-y-reverse":0,borderTopWidth:"calc(1px * calc(1 - var(--divide-y-reverse)))",borderBottomWidth:"calc(1px * var(--divide-y-reverse))","--divide-opacity":"1",borderColor:"rgba(237, 242, 247, var(--divide-opacity))"}}},r&&g.map(((t,r)=>Object(n.f)("div",{key:`${t.name}-${t.type}`,css:[{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"0.75rem",paddingBottom:"0.75rem",cursor:"pointer",":hover":{"--bg-opacity":"1",backgroundColor:"rgba(247, 250, 252, var(--bg-opacity))"}},T],title:e("scripting.open_script"),onClick:()=>{return e=t.path,void window.open(e,"_blank","noopener noreferrer");var e}},Object(n.f)("div",{css:{flex:"1 1 0%"}},Object(n.f)("div",{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"1.5","--text-opacity":"1",color:"rgba(74, 85, 104, var(--text-opacity))"}},t.name),Object(n.f)("div",{css:{fontSize:".875rem","--text-opacity":"1",color:"rgba(160, 174, 192, var(--text-opacity))"}},t.type)),Object(n.f)("div",{css:{marginLeft:"0.5rem",display:"flex",alignItems:"center"}},"cron"===t.type&&Object(n.f)(k.a,{onClick:e=>{e.stopPropagation(),((e,t)=>{"number"!==typeof f&&(u(t),Object(M.a)({url:"/scripting/cron/evaluate",method:"POST",data:{script_name:e},timeout:6e4}).then((e=>{e.exception?c.b.error(e.exception):p(e.output)})).catch((e=>{console.error(e)})).finally((()=>{u(void 0)})))})(t.name,r)},size:"kilo",isLoading:f===r,loadingLabel:e("scripting.running"),css:{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",fontSize:".875rem",lineHeight:"1.25"}},e("scripting.run_script_button_title")))))))),Object(n.f)("div",{css:{borderTopWidth:"1px",borderStyle:"solid","--border-opacity":"1",borderColor:"rgba(237, 242, 247, var(--border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},Object(n.f)(C.a,{variant:"tertiary",size:"kilo",onClick:()=>t.push("/scripting/evaluate")},e("scripting.debug_script_button_title"))),Object(n.f)(S.a,{isOpen:!!d,onClose:()=>{p(void 0)}},(t=>{let{onClose:r}=t;return Object(n.f)(z.a,null,Object(n.f)(R.a,{title:e("scripting.result"),onClose:r}),Object(n.f)("div",null,Object(n.f)("pre",{css:[_,{fontFamily:'Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:".75rem","--text-opacity":"1",color:"rgba(113, 128, 150, var(--text-opacity))","--bg-opacity":"1",backgroundColor:"rgba(237, 242, 247, var(--bg-opacity))",lineHeight:"1.25",padding:"0.75rem",whiteSpace:"pre-wrap",overflowWrap:"break-word"}]},d)))})))}}}]);
//# sourceMappingURL=13.58dc42b2.chunk.js.map